{% load staticfiles %}
<div id="field" class="col-md-10">
	<div id="catch1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.catch1}}</p></div>
	<div id="catch2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.catch2}}</p></div>
	<div id="first1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.first1}}</p></div>
	<div id="first2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.first2}}</p></div>
	<div id="second1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.second1}}</p></div>
	<div id="second2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.second2}}</p></div>
	<div id="short1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.short1}}</p></div>
	<div id="short2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.short2}}</p></div>
	<div id="third1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.third1}}</p></div>
	<div id="third2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.third2}}</p></div>
	<div id="left1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.left1}}</p></div>
	<div id="left2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.left2}}</p></div>
	<div id="center1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.center1}}</p></div>
	<div id="center2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.center2}}</p></div>
	<div id="right1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.right1}}</p></div>
	<div id="right2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.right2}}</p></div>
	<div id="starter1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.starter1}}</p></div>
	<div id="starter2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.starter2}}</p></div>
	<div id="starter3" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.starter3}}</p></div>
	<div id="starter4" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.starter4}}</p></div>
	<div id="relief1" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.relief1}}</p></div>
	<div id="relief2" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.relief2}}</p></div>
	<div id="relief3" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.relief3}}</p></div>
	<div id="relief4" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.relief4}}</p></div>
	<div id="dh" class="ui-widget-header text-center droppable"><p class="dropElement">{{depth.dh}}</p></div>
</div>
<div class="col-md-2">
	{% for p in players %}
	<div class="draggable text-center">
	  <p>{{p.first_name}} {{p.last_name}}</p>
	</div>
	{% endfor %}
	<button type="button" class="btn btn-primary" id="save_depth_chart">Save Changes</button>
	<button type="button" class="btn btn-danger pull-right" id="reset_chart">Reset Chart</button>
	<div id="save_confirm" class="pull-right" style="margin-top:10px;"></div>
</div>

<!-- Jake's Fake Model-->
<div id="editPlayerModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
				<h3 id="myModalLabel1">Edit Position</h3>
			</div>
			<div class="modal-body">
				<form role="form" class="chart_form" id="form" action="{% url 'depth_chart' username=user name=name year=year %}" method="post">
					{% csrf_token %}
					<input type="hidden" class="form-group" id="id_pk" name="pk" value="change_this">
					<div class="form-group">
						{{ form }}
					</div>

					<div class="modal-footer">
						<button type="submit" class="btn btn-danger pull-left" name="delete" id="deleteButton">Delete</button>
						<button class="btn btn-default" data-dismiss="modal" aria-hidden="true">Cancel</button>
						<button type="submit" class="btn btn-primary" name="update_modal" id="submitButton">Save</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
<script>
	$('.chart_form').submit(function (e) {
		e.preventDefault();
		$.ajax({
			type: 'post',
			url : "{% url 'depth_chart' username=user name=name year=year %}",
			data : $(this).serialize(),
			success: function(data){
				$('#depthchart').html(data);
				$('#save_confirm').text('Chart has been saved!');
				setTimeout(function() {
				    $('#save_confirm').fadeOut('fast');
				}, 3000); // <-- time in milliseconds
			}
		});
	});

	// $('#reset_chart').click(funtion(){

	// 	$("id_catch1").val("Catcher");
	// 	$("id_catch2").val("Catcher");
	// 	$("id_first1").val("First Base");
	// 	$("id_first2").val("First Base");
	// 	$("id_second1").val("Second Base");
	// 	$("id_second2").val("Second Base");
	// 	$("id_short1").val("Shortstop"); 
	// 	$("id_short2").val("Shortstop"); 
	// 	$("id_third1").val("Third Base"); 
	// 	$("id_third2").val("Third Base");
	// 	$("id_left1").val("left Field"); 
	// 	$("id_left2").val("left Field"); 
	// 	$("id_center1").val("Center Field");
	// 	$("id_center2").val("Center Field");
	// 	$("id_right1").val("Right Field");
	// 	$("id_right2").val("Right Field"); 
	// 	$("id_starter1").val("Starting Pitcher");
	// 	$("id_starter2").val("Starting Pitcher");
	// 	$("id_starter3").val("Starting Pitcher");
	// 	$("id_starter4").val("Starting Pitcher");
	// 	$("id_relief1").val("Relief Pitcher");
	// 	$("id_relief2").val("Relief Pitcher"); 
	// 	$("id_relief3").val("Relief Pitcher"); 
	// 	$("id_relief4").val("Relief Pitcher"); 
	// 	$("id_dh").val("Designated Hitter");

	// 	$('#save_depth_chart').click(function() {
 //    		$('#submitButton').click();
 //    	});

	// });

</script>
